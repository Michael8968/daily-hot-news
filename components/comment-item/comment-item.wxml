<!--components/comment-item/comment-item.wxml-->
<view 
  class="comment-item"
  bindtap="onCommentTap"
  bindlongpress="onCommentLongPress"
>
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="comment-header">
    <view class="user-info" bindtap="onAvatarTap">
      <image 
        class="user-avatar" 
        src="{{comment.userInfo.avatarUrl || '/images/default-avatar.png'}}"
        wx:if="{{showAvatar}}"
      />
      <view class="user-details">
        <text class="user-name">{{comment.userInfo.nickName || 'åŒ¿åç”¨æˆ·'}}</text>
        <text class="comment-time">{{formattedTime}}</text>
      </view>
    </view>
  </view>

  <!-- è¯„è®ºå†…å®¹ -->
  <view class="comment-content">
    <text class="comment-text">{{comment.content}}</text>
  </view>

  <!-- è¯„è®ºæ“ä½œ -->
  <view class="comment-actions" wx:if="{{showActions}}">
    <view class="action-item" bindtap="onLikeTap">
      <text class="action-icon {{isLiked ? 'liked' : ''}}">
        {{isLiked ? 'â¤ï¸' : 'ğŸ¤'}}
      </text>
      <text class="action-text">{{likeCount}}</text>
    </view>
    
    <view class="action-item" bindtap="onReplyTap">
      <text class="action-icon">ğŸ’¬</text>
      <text class="action-text">å›å¤</text>
    </view>
  </view>

  <!-- å›å¤åˆ—è¡¨ -->
  <view class="reply-list" wx:if="{{comment.replies && comment.replies.length > 0}}">
    <view 
      wx:for="{{comment.replies}}" 
      wx:key="id"
      class="reply-item"
    >
      <view class="reply-header">
        <text class="reply-user">{{item.userInfo.nickName || 'åŒ¿åç”¨æˆ·'}}</text>
        <text class="reply-time">{{item.formattedTime}}</text>
      </view>
      <view class="reply-content">
        <text class="reply-text">{{item.content}}</text>
      </view>
    </view>
  </view>
</view>
